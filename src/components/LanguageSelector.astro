---
import { languages } from '../consts';
const { currentLang } = Astro.props;
const { pathname } = Astro.url;
const pathParts = pathname.split('/');
const pagePath = pathParts.slice(2).join('/');
---

<div class="language-selector">
    {Object.entries(languages).map(([lang, label]) => (
        <a 
            href={`/${lang}/${pagePath}`}
            class={`lang-link${currentLang === lang ? ' active' : ''}`}
        >
            {label}
        </a>
    ))}
</div>

<style>
.language-selector {
    display: flex;
    gap: 0.5rem;
    margin-left: 1rem;
}
.lang-link {
    color: #4a5568;
    padding: 0.2em 0.7em;
    border-radius: 4px;
    text-decoration: none;
    transition: background 0.2s;
}
.lang-link.active {
    background: #44B3FF;
    color: #fff;
    font-weight: bold;
}
.lang-link:hover {
    background: #44B3FF;
}
</style>